import requests
import time
import json


now_time = str(int(time.time() * 1000))
# url = f'https://rewards.bing.com/api/getuserinfo?type=1&X-Requested-With=XMLHttpRequest&_={now_time}'
url = f'https://rewards.bing.com/api/getuserinfo?type=1&X-Requested-With=XMLHttpRequest&_={now_time}'

headers = {
    'sec-ms-gec': 'AB016AA566E882EFB75C93251228E64ACC8D528E2C5BD9CC2EA1E3939ADCC542',
    'x-client-data': 'eyIxIjoiMCIsIjEwIjoiXCJYM0E0STRtRjk3a0RhbVdLenhDeTJBV2Q1bjVtVFd6V3RTK29LaXhocHNBPVwiIiwiMiI6IjAiLCIzIjoiMCIsIjQiOiI3OTcyOTE1NDY5NTIzNTQ5MTE0IiwiNSI6IlwicWYwdDFFL1lIcUcxQmVXSjhaK1BDaTZydkNCMXFoTXRYUVJxWUR2Ti9nND1cIiIsIjYiOiJzdGFibGUiLCI3IjoiMzk3NzEzOTcxNjA5OSIsIjkiOiJkZXNrdG9wIn0=',
    'referer': 'https://rewards.bing.com/',
    'sec-ms-gec-version': '1-127.0.2651.86',
    "cookie": "_C_Auth=; MUID=245E56D9FE1D60E101DC42CCFF6161BA; _EDGE_V=1; SRCHD=AF=NOFORM; SRCHUID=V=2&GUID=7C5B10AF77A34837AEEA49823FD9D42F&dmnchg=1; ANON=A=52551A6B753C52BCDDDBD4D3FFFFFFFF; MUIDV=NU=1; MUIDB=245E56D9FE1D60E101DC42CCFF6161BA; vdp=%7B%22ex%22%3Atrue%2C%22red%22%3Afalse%7D; MicrosoftApplicationsTelemetryDeviceId=a026a378-86fc-4413-b483-6deb695ace49; MicrosoftApplicationsTelemetryFirstLaunchTime=2024-01-29T07:10:15.039Z; MSPTC=0Zh5K83dB5qa1IPPVjjVQ2HEqwHRa6514CRYprwFfkM; MMCASM=ID=97B1F0A24A124B1F93E6879994BDB100; ANIMIA=FRE=1; MSCCSC=1; BFBUSR=CMUID=245E56D9FE1D60E101DC42CCFF6161BA; mapc=rm=1; MUIDB=245E56D9FE1D60E101DC42CCFF6161BA; _UR=QS=0&TQS=0&cdxcls=0; _tarLang=default=zh-Hans&newFeature=tonetranslation; _TTSS_IN=hist=WyJjeSIsInpoLUhhbnMiLCJlbiIsImF1dG8tZGV0ZWN0Il0=&isADRU=0; _TTSS_OUT=hist=WyJlbiIsInpoLUhhbnMiXQ==; EDGSRCHHPGUSR=CIBV=1.1781.0; MSCC=cid=ysg3uej1sj6mmmlp2yqlmm55-c1=2-c2=2-c3=2; _HPVN=CS=eyJQbiI6eyJDbiI6MTQsIlN0IjowLCJRcyI6MCwiUHJvZCI6IlAifSwiU2MiOnsiQ24iOjE0LCJTdCI6MCwiUXMiOjAsIlByb2QiOiJIIn0sIlF6Ijp7IkNuIjoxNCwiU3QiOjAsIlFzIjowLCJQcm9kIjoiVCJ9LCJBcCI6dHJ1ZSwiTXV0ZSI6dHJ1ZSwiTGFkIjoiMjAyNC0wOC0wNVQwMDowMDowMFoiLCJJb3RkIjowLCJHd2IiOjAsIlRucyI6MCwiRGZ0IjpudWxsLCJNdnMiOjAsIkZsdCI6MCwiSW1wIjo3MSwiVG9ibiI6MH0=; SnrOvr=X=rebateson; tifacfaatcs=CfDJ8Bpr4X1OfMhKmwwJAAtCh6iafIGiuQHZAJHAa2SVza5-nfh82BE3omx7KwJb8HIdmfSN5vVvdiFu1nmgJTAujfiRSpSc265MQh_UBrcXsAYAvJJjYlEplWI19wI_jqL8_PDfYaWPDhNWhTAE_oqXLJHI2PDba8eUgW1u4V4Trc8d4tpSJ7vpu7fawgqSowz8FhXmDOxLgrSIwIE542KghnICOVkS3ojxD4tFU69M-HabdihtxFp4Pz09Po03yS6KBR9jQMbi9PiGIrYbh7Y4PJviD8VTWj7UXYW_2m-OtDWaAQ0PgwB746mFw3Jc6csPbmZ31Vo1Rt3cGyRZfVaiDys967ZjDCTCDvSp8rCTZ1cGyt3OVd4m2F2En4nol6mh6sS6oiuWrj3F50CvTMlZdKN6h62Z_RY7jYbXKgQDTFXedYj-zWIL6BcFxP-yHUq_ziM9D_m9Hj6lQB6OzAmMbeunpYOEZUbvkW-kGe9Z40eADLHceUZdMzSX0ufmLFalGGfJnR_cLKGfwzMwm0CkDFtIywNOPYp0fScEeiSbTnaW2q_YftoZ8ISszjgE8DOflxdm26qI5Q6AJsbz6HUogvl5S8p56z7uYY3AKG0U5MLd5EmJYefsirBHBzLviByOHbxZ87x46skjCxQv4juZFpduDhsvXZiWndGhBck3hwhvxumQpHB_cjUMS5oP_fi0rCrmeLh9BlA4epKbcjhuQX0UFsNJ1FnmbY0JeGtZRsTabDCvVMXT5TIUJ9vQG744b1GqSTiBq77M9VgEtYRnAImPCBgmoEEIosjloaYZuovRyxM4mdbP4Ws94VgGNAY3kcxwhEFkfQqGKw9AFuLzkx6qdxO63-9C4jtWfYsJYtsahbyxd7QtEWemIYchpTY0qdpEcaF1u53I-Yov0j8HD9-9NvGDWpvKsVXvUi3S9KNoKLYasa4PgW9IkfuWiQ-SIpIwxq30QOcAE6ooBbUxlj9fdKoiWyHp2fX2AF9h2-a6xsTxgeSPm2zlxF5tRGtzWQ_NXymmUtKkPTqXN_DiVLtwOlMapdK_Sd7K2qcxevDRTLcbvGdYBncFgt3JPLC5fHW7U9OYXf8mNOsm7eC--uoj-gzE65tbdo8L3N9K8vS3pjzyfGrrMnkq6kI9JJHkRlw-GkNBqJGlt5JNvll6tAjDtkMFEPnFdmD0KudX7Iqx6TsS_RlprixRwwCGswQA38QF-3aogIzGNIMt0RFTQDfrLhL2-FIAGLwFX_lm-r31zDkLht2bEM0HY8QeDXQSAXIbYGMIwGgL1Ekq76eoPlb6wFdyR2v-ek27BSpMcpot-6X1UjbaUxP1T9170nvjwUl_Q5obqF0wu5cEDnaJIxvajIHhKnAAMLOQF_4JVsLDNL3WNaXiDGuKgTZhl7RW1V-XeHUgokeNRGGL-Qbj2N5XUwzUDxvENBnSWIfhc91lnLEeOpSIfAEVmvPsvjLphmSGFVc01NWqzQqyx1lpBgIxFx52zh1gr_VDmwkqQeHWVZvKAYrQnUzDJOdRV7UbfuM0P0ei4SiFWfP8oR4zuOdekR1cRMb21tawzREd2mZjJzvct0-NrkucSrlHk-NPr_wYGY2J2guh2jorJpoZ4IvDSWd-wm2XHsv9sNKPNqTWlTttxGZW5LxpSP_iYogGQMhHXFJZNma2fBv_eB4vL9EsmrmQhWxQZhAV8uCwbvfJTcsu62XzmaqHOX9tSyt1rksHCtoWC_Emue8DA_dfP0aHNCei5V5smKuk4bigB7puhDaL2vncE-C8mHXDIxJctZnfCl9HUYW8ZpjrbDix0f1JGD1SSnw-aXR5UIZ2I4-u-6ir7SFg_-c58F0bi9vGQOgtKDJmYFRbE_iS0UWhz3UsGQThsa1CnrlzdIR-4lb8Ewi953PjGpXHc3qIIQtRWreuMGFqcONiL2G9sTy7nPN2bCwnEtUz2Dlxc-sueaZZCdBh4LMGYgwGuVyJUG3WKum9f_JkvC19U-f5mT1ULLIp3Iye0MjGOYsRu92ExM02k_IBX1_x1y2jLs9z3NliWTMOnx1f_Y1lwLastdIuoqyjDdQFVMFcnWvmY2ttt_4l5d1ycyvWO7wk-46jJroY1WhERMdxv7ZlvgVC3yDQ19TFvA4tJWPtaPD3RqHCLJeDP1jTt1OLU2UW1xjwTh22Y75M1tzPyvXiDke_C8ZXBjatUsO8udPELTzHUi66JGrUEQje4gXu89Tj5kMhpxNa6eHFlmXgXU41jP3i-Md9vLoCfTIlH_gdU4YJXeusmqnqdzJD9LkcPRiGohmzpOTIpafYjmpStzluQEP_sNDCkqwLe1Sc7aESg6zijpqubecAl4EVkqvSSm8-b9dFBJpahKSYngUD8I1h5IiuOP_ZGvloYaiUISQZmqcHskJtNmLUwHmJHH-imVJ0sZ3s8FRiR5QjZ1DPW0Zsst-gxWfA5rjB5RwAg6uOUr5AM4_6j6CRYOB1PmGfb9Gqc9mmaOw1bYd-Y9C6aY6qgIXS98Op2Y9jOr3U4cjfd0J9d_ySvBRrI-iKjS3kFbtUAnRFowlD8rmv0_pilg1xoUkBizi10Ph3bT08GDToPW9VWLDz6Gri-6TndTQgUJ7oiEQf0P0g0XHaRk-Yu9B1VOT1oOh8sZV_d8GaEuo-c5aWjnmdMRgnZIAyYtpm3WmEfPYE_X-EOrIxQXIJM6P-9-zdPoMllNzo_zMX-mFPU_ib2Suonnbrnnno4iAcuHBW0if9_iCtzOhJ0eVpNhg_FCWiam8evMOA__EwlrgsJx6TaDs75rhFhHOlmsex-JvuYZ1HpCcKl-P4QbMyOjObjcYp2UNuTbvmfI-DMqw6h1-3z_s253gMxmmiR667mExyXdMj_5r5ZHPZyZql9zjtQqoYdhvrUpzAbdaV7BlVL9EZw_7xZdDHR8N4YtbkBswRPD4YSMDtjI8ys_PLokkjtBsazx_R9phO_H0uJdPwnps87jrZLzXKtKDrXrqcf3jYp7n35AvcmdVe72TKWgogoBpYm9QYF36KOAq-od32JSw7OeoOXdKPzOymzfG_3vqRcmN90Shg-lYlIBpycEXGNSuTHYalhSP1MwVgtMJFOwO-Oo3cCCPw0RRow9-xa7p8_1qJAzRgbw_FvTeg-zzOWJdmdIdVdToWouDe7zG4FUvwEansz9U28IbcIQThW5QCSGy3GtVkT4donZOtTT5-SL4fSQd8yvsz3ooZhN_9voHI5bClmGyzy0zmmLVtVyQ0rOw28XD-3-W9CVgGKwl2qGfmVqKhC4hOzrI2tqxAQ_dI0RcW5RyJAEKp-tETRMxlSYdBn_Pn8AGTUhpPECBw_enWGHgsTU83dA3aP4P34H418Aus0cbbsSczxQuwoD9_-dkq3vekzCb7oK5pYWvHi76sB7DTs8QZ-6rdSDii8_Mug5XQDL2T9XhhM9E-DlRCeEebJA4DpEPWQk3ZWKn5crIKFvlfBvP26uHNxPwJfzoPXXC4cn-xR6vhIBLVCLaz4fOte6aYExR0vQ8vqzy-9fY5itmWCEgEilYfPYl9YGoBzAhLWdGl2fGJwdVXcgdbYrYJcJm3r6-btSFt7U7tjekAwP7n-dZwZZM58m6GQjbcwgxHyHxtPDG_cyKm4eOrvCMnMoA3uvPAZqYUp4z5pJNrp_PjowkCNWgMMzKYmWBVPmHGtM2d45maZJ8dKGd6S7bHuZnEUSujL1YpKJUxRCVmPv9uSzAJflv_dI4CkU5LAGAHYz1KSMhyopR-KPy5xM_51aordslZcyfvwiljaDoybojCb2XI4OHduN6mOLZWZK0ZxBxcm42k0AQ5kZAl9YfW-nPAWC3OMfmCi9eVdm8UKiJUuzW3m8s7oVpV6-3rd09oOXXB; USRLOC=HS=1&ELOC=LAT=34.56695556640625|LON=105.6958236694336|N=%E7%A7%A6%E5%B7%9E%E5%8C%BA%EF%BC%8C%E7%94%98%E8%82%83%E7%9C%81|ELT=2|&CLOC=LAT=34.566954225452484|LON=105.69583212404575|A=733.4464586120832|TS=240816002312|SRC=W&BID=MjQwODE2MDgyMzEyX2I1ZDg5MDQ2ZjFlYTQ0M2ViOTgwMDdlMDkxY2E0YmU2MTdmNTEwYjZmNWMyNDBlNGRjODEzMmViMmIxYTViNzU=; SRCHUSR=DOB=20240129&T=1723728710000&POEX=W; SRCHHPGUSR=SRCHLANG=zh-Hans&DM=1&PV=10.0.0&BZA=0&HV=1723729157&BRW=XW&BRH=M&CW=1912&CH=930&SCW=1897&SCH=2114&DPR=1.0&UTC=480&EXLTT=31&PRVCW=1912&PRVCH=930&IG=B83ED4DD44CE4466A5B91E4EE7995BB0&THEME=1&PR=1&cdxupdttm=638450858501228047&CIBV=1.1773.0&OR=0&CMUID=245E56D9FE1D60E101DC42CCFF6161BA&WEBTHEME=1&AV=14&ADV=14&RB=1721894369381&MB=1721894369384; _RwBf=r=1&ilt=0&ihpd=0&ispd=0&rc=2223&rb=2223&gb=0&rg=0&pc=2193&mtu=0&rbb=0.0&g=0&cid=&clo=0&v=9&l=2024-08-15T07:00:00.0000000Z&lft=0001-01-01T00:00:00.0000000&aof=0&ard=0001-01-01T00:00:00.0000000&rwdbt=2024-08-15T04:18:12.8189200-07:00&o=16&p=BINGTRIAL5TO250P201808&c=MY00IA&t=4759&s=2023-01-13T09:37:59.7422461+00:00&ts=2024-08-15T13:31:51.8701164+00:00&rwred=0&wls=0&wlb=0&wle=0&ccp=2&lka=0&lkt=0&aad=0&TH=&mta=0&e=cH_hqXk6Ob-rxu8ULeNcECLJxqLekA_08yviimXYBWDAGJZKukNQplKaqfZKYStbBPVXmGTrHfrBAs2DZYC-LQ&A=52551A6B753C52BCDDDBD4D3FFFFFFFF&rwflt=2024-08-09T02:17:00.0508182-07:00&cpt=0; _EDGE_S=SID=1BC0965142766F6C3B5C828C43546E4A; WLS=C=00829e7a37c416a0&N=%e5%ba%86%e6%b5%a9; _SS=SID=1BC0965142766F6C3B5C828C43546E4A; _U=1fmYs-pz4Cm1TBp3ziExZllM8yBpJeTcXAqFYiFx5kjkRKXbuVczV5SY3mA6ASgpT82CFonk2XhqFJousHf2WbgHXi23JO7hgCmt2UTPKNDkWn-JS5nFgnzPtAmYbJh309yqeK_A7IQuCLItCYETd2uaZQRgCRfoU5LL-YR_r0ovzYKDZB5BZsgoCgVMb5ZtVVNdQH-Kzl86dfZCc7CvErTNrzsXvjmfgFUP7gpdMi9M; .AspNetCore.Antiforgery.icPscOZlg04=CfDJ8Bpr4X1OfMhKmwwJAAtCh6hWWFe3Vs164AGuCZwkSdZBQd8qndwXK_p0q3wdkXfMGzvhPHVDs1JO9FLAX6YuSLPfZR-08RPT9u50S8AcyFmHjKKjOe31rtNKN7r215T3lW5PhqL-cW159fuBeb8KzMM; GRNID=b6c667a0-3428-4af0-8298-81fe11786db6; _C_Auth=; _clck=1g53ira%7C2%7Cfod%7C1%7C1489; _uetsid=680f09705aa011efb21c25a08f2ca852; _uetvid=73b77110be7511ee8c9783dd393862f3; webisession=%7B%22impressionId%22%3A%22fe349bc2-a214-4d1d-8e04-e9df1b6cbc1c%22%2C%22sessionid%22%3A%2233139827-53cd-468b-bcb7-2c8e51b36bfd%22%2C%22sessionNumber%22%3A8%7D; _clsk=1j4oc68%7C1723768383110%7C4%7C0%7Cw.clarity.ms%2Fcollect; GC=lptsJ1pGEHUuZiqHH-K6gnSYfyQu-cXDXpfHFEnSU6X1DyIxzL9Mvvi818EHwlOzmrYruqJy7yHOzh732OwAPA",
    "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36 Edg/127.0.0.0"
}

resp = requests.get(url, headers=headers).json()
computer_balance = int(resp['dashboard']['userStatus']['counters']['pcSearch'][0]['attributes']['progress'])
mobel_balance = int(resp['dashboard']['userStatus']['counters']['mobileSearch'][0]['attributes']['progress'])

print(computer_balance, mobel_balance)
